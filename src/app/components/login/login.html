<div class="container mt-5" style="max-width: 400px">
  <h2 class="mb-4 text-center">Connexion</h2>
  <form id="loginForm" #loginForm="ngForm" (ngSubmit)="onLogin()">
    <div class="mb-3">
      <label for="email" class="form-label">Adresse email</label>
      <input
        type="email"
        class="form-control"
        id="email"
        name="email"
        [(ngModel)]="email"
        #emailRef="ngModel"
        required
        email
        placeholder="exemple@domaine.com"
      />
      @if (emailRef.errors && emailRef.touched) {
        <div class="invalid-feedback d-block">
          @if (emailRef.errors['required']) {
            <div>L'email est requis.</div>
          }
          @if (emailRef.errors['email']) {
            <div>Format de l'email invalide (ex: exemple@domaine.com).</div>
          }
        </div>
      }
    </div>

    <!-- Password -->

    <div class="mb-3">
      <label for="password" class="form-label">Mot de passe</label>
      <input
        type="password"
        class="form-control"
        id="password"
        name="password"
        [(ngModel)]="password"
        #passwordRef="ngModel"
        required
        minlength="10"
        placeholder="Votre mot de passe"
      />
      @if (passwordRef.errors && passwordRef.touched) {
        <div class="invalid-feedback d-block">
          @if (passwordRef.errors['required']) {
            <div>Le mot de passe est requis.</div>
          }
          @if (passwordRef.errors['minlength']) {
            <div>Le mot de passe doit contenir au moins 10 caractères.</div>
          }
        </div>
      }
    </div>
    <button type="submit" class="btn btn-primary w-100" [disabled]="loginForm.invalid">
      Se connecter
    </button>
    @if (errorMessage) {
    <div class="alert alert-danger mt-3 text-center">
      {{ errorMessage }}
    </div>
    }
  </form>
  <div class="mt-3 text-center">
    <small
      >Pas encore inscrit ?
      <a routerLink="/signup" routerLinkActive="active">Créer un compte</a></small
    >
  </div>
</div>
